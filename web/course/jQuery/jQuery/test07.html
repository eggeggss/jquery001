<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>jQuery</title>
	<link rel="stylesheet" href="css/style.css">
	<style>
		.msg {
			text-align: center;
			background: #f66;
			font-size: .8em;
			color: #000;
			padding: 5px;
			margin: 3px;
			display: none;
		}
		#all-tours ul li .per-night {
			transition: all 600ms;
		}
		#all-tours ul li .per-night.show {
			opacity: 1;
			top: -15px;
			transform: rotate(370deg);
		}
	</style>
</head>
<body>
	<div id="all-tours">
	  <h1>Guided Tours</h1>
	  <ul id="tours">
	    <li class="tour usa" data-discount="299">
	      <h2>New York, New York</h2>
	      <span class="details">$1,899 for 7 nights</span>
	      <span class="per-night"><span class="price">$275</span>/night</span>
	      <button class="book">Book Now</button>
	      <ul class="photos">
	        <li>
	          <img src="img/paris1.jpg">
	          <span>Notre Dame de Paris</span>
	        </li>
	      </ul>
	    </li>
	    <li class="tour france" data-discount="99">
	      <h2>Paris, France</h2>
	      <span class="details">$1,499 for 5 nights</span>
	      <span class="per-night"><span class="price">$300</span>/night</span>
	      <button class="book">Book Now</button>
	      <ul class="photos">
	        <li>
	          <img src="img/paris2.jpg">
	          <span>Brooklyn Bridge</span>
	        </li>
	      </ul>
	    </li>
	    <li class="tour uk" data-discount="149">
	      <h2>London, UK</h2>
	      <span class="details">$2,199 for 5 nights</span>
	      <span class="per-night"><span class="price">$440</span>/night</span>
	      <button class="book">Book Now</button>
	      <ul class="photos">
	        <li>
	          <img src="img/paris3.jpg">
	          <span>Tower of London</span>
	        </li>
	      </ul>
	    </li>
	  </ul>
	</div>
	<script src="js/jquery-1.11.3.min.js"></script>
	<script src="js/jquery.easing.1.3.js"></script>
	<script>
		$(function() {
			// $('.tour').hover(function() {
			// 	$(this).find('.photos').stop().slideDown(600, 'easeOutElastic');
			// 	$(this).find('.per-night').stop().animate({opacity: 1, top: '-15px'}, 600, 'easeOutElastic')
			// }, function() {
			// 	$(this).find('.per-night').stop().animate({opacity: 0, top: 0}, 600, 'easeInBack')
			// });

			$('.tour').hover(function() {
				$(this).find('.photos').stop().slideDown(600, 'easeOutElastic');
				$(this).find('.per-night').toggleClass('show');
			});

			$('.book').one('click', function() {
				var discount = $(this).closest('.tour').data('discount');
				var message = '<div class="msg">訂閱成功，節省 ' + discount + ' 元。</div>';
				$(this).after(message);
				$(this).slideUp(1000, 'easeOutBounce');
				$(this).next().slideDown(1000, 'easeOutBounce');
			});
		});
	</script>
</body>
</html>